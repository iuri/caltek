<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><!--This file was converted to xhtml by LibreOffice - see http://cgit.freedesktop.org/libreoffice/core/tree/filter/source/xslt for the code.--><head profile="http://dublincore.org/documents/dcmi-terms/"><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/><title xml:lang="en-US">- no title specified</title><meta name="DCTERMS.title" content="" xml:lang="en-US"/><meta name="DCTERMS.language" content="en-US" scheme="DCTERMS.RFC4646"/><meta name="DCTERMS.source" content="http://xml.openoffice.org/odf2xhtml"/><meta name="DCTERMS.issued" content="2018-02-17T09:56:34.161600137" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.modified" content="2018-02-17T09:58:06.121262337" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.provenance" content="" xml:lang="en-US"/><meta name="DCTERMS.subject" content="," xml:lang="en-US"/><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" hreflang="en"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" hreflang="en"/><link rel="schema.DCTYPE" href="http://purl.org/dc/dcmitype/" hreflang="en"/><link rel="schema.DCAM" href="http://purl.org/dc/dcam/" hreflang="en"/><style type="text/css">
    @page {  }
    table { border-collapse:collapse; border-spacing:0; empty-cells:show }
    td, th { vertical-align:top; font-size:12pt;}
    h1, h2, h3, h4, h5, h6 { clear:both;}
    ol, ul { margin:0; padding:0;}
    li { list-style: none; margin:0; padding:0;}
    /* "li span.odfLiEnd" - IE 7 issue*/
    li span. { clear: both; line-height:0; width:0; height:0; margin:0; padding:0; }
    span.footnodeNumber { padding-right:1em; }
    span.annotation_style_by_filter { font-size:95%; font-family:Arial; background-color:#fff000;  margin:0; border:0; padding:0;  }
    span.heading_numbering { margin-right: 0.8rem; }* { margin:0;}
    .Standard { font-size:12pt; font-family:Liberation Serif; writing-mode:page; }
    /* ODF styles with no properties representable as CSS */
     { }
    </style></head><body dir="ltr" style="max-width:8.5in;margin-top:0.7874in; margin-bottom:0.7874in; margin-left:0.7874in; margin-right:0.7874in; "><p class="Standard">i selected multi-company in setings and tried to create a new company and got the following errer</p><p class="Standard">Error:</p><p class="Standard">Odoo Server Error</p><p class="Standard"> </p><p class="Standard">Traceback (most recent call last):</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/fields.py", line 947, in __get__</p><p class="Standard">    value = record.env.cache.get(record, self)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/api.py", line 960, in get</p><p class="Standard">    value = self._data[field][record.id][key]</p><p class="Standard">KeyError: &lt;odoo.api.Environment object at 0x7f5a4a1f49b0&gt;</p><p class="Standard"> </p><p class="Standard">During handling of the above exception, another exception occurred:</p><p class="Standard"> </p><p class="Standard">Traceback (most recent call last):</p><p class="Standard">  File "/usr/lib/python3.5/base64.py", line 518, in _input_type_check</p><p class="Standard">    m = memoryview(s)</p><p class="Standard">TypeError: memoryview: a bytes-like object is required, not 'str'</p><p class="Standard"> </p><p class="Standard">The above exception was the direct cause of the following exception:</p><p class="Standard"> </p><p class="Standard">Traceback (most recent call last):</p><p class="Standard">  File "/usr/lib/python3.5/encodings/base64_codec.py", line 19, in base64_decode</p><p class="Standard">    return (base64.decodebytes(input), len(input))</p><p class="Standard">  File "/usr/lib/python3.5/base64.py", line 552, in decodebytes</p><p class="Standard">    _input_type_check(s)</p><p class="Standard">  File "/usr/lib/python3.5/base64.py", line 521, in _input_type_check</p><p class="Standard">    raise TypeError(msg) from err</p><p class="Standard">TypeError: expected bytes-like object, not str</p><p class="Standard"> </p><p class="Standard">The above exception was the direct cause of the following exception:</p><p class="Standard"> </p><p class="Standard">Traceback (most recent call last):</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/http.py", line 646, in _handle_exception</p><p class="Standard">    return super(JsonRequest, self)._handle_exception(exception)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/http.py", line 307, in _handle_exception</p><p class="Standard">    raise pycompat.reraise(type(exception), exception, sys.exc_info()[2])</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/tools/pycompat.py", line 87, in reraise</p><p class="Standard">    raise value</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/http.py", line 683, in dispatch</p><p class="Standard">    result = self._call_function(**self.params)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/http.py", line 339, in _call_function</p><p class="Standard">    return checked_call(self.db, *args, **kwargs)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/service/model.py", line 97, in wrapper</p><p class="Standard">    return f(dbname, *args, **kwargs)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/http.py", line 332, in checked_call</p><p class="Standard">    result = self.endpoint(*a, **kw)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/http.py", line 927, in __call__</p><p class="Standard">    return self.method(*args, **kw)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/http.py", line 512, in response_wrap</p><p class="Standard">    response = f(*args, **kw)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/addons/web/controllers/main.py", line 930, in call_kw</p><p class="Standard">    return self._call_kw(model, method, args, kwargs)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/addons/web/controllers/main.py", line 922, in _call_kw</p><p class="Standard">    return call_kw(request.env[model], method, args, kwargs)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/api.py", line 687, in call_kw</p><p class="Standard">    return call_kw_model(method, model, args, kwargs)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/api.py", line 672, in call_kw_model</p><p class="Standard">    result = method(recs, *args, **kwargs)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/addons/product/models/res_company.py", line 12, in create</p><p class="Standard">    new_company = super(ResCompany, self).create(vals)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/addons/resource/models/res_company.py", line 24, in create</p><p class="Standard">    company = super(ResCompany, self).create(values)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/addons/base/res/res_company.py", line 229, in create</p><p class="Standard">    company = super(Company, self).create(vals)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/models.py", line 3278, in create</p><p class="Standard">    record = self.browse(self._create(old_vals))</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/models.py", line 3435, in _create</p><p class="Standard">    self.recompute()</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/models.py", line 4801, in recompute</p><p class="Standard">    vals = {n: rec[n] for n in ns}</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/models.py", line 4801, in &lt;dictcomp&gt;</p><p class="Standard">    vals = {n: rec[n] for n in ns}</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/models.py", line 4659, in __getitem__</p><p class="Standard">    return self._fields[key].__get__(self, type(self))</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/fields.py", line 951, in __get__</p><p class="Standard">    self.determine_value(record)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/fields.py", line 1038, in determine_value</p><p class="Standard">    self.compute_value(recs)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/fields.py", line 1018, in compute_value</p><p class="Standard">    self._compute_value(records)</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/fields.py", line 1009, in _compute_value</p><p class="Standard">    getattr(records, self.compute)()</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/addons/base/res/res_company.py", line 135, in _compute_logo_web</p><p class="Standard">    company.logo_web = tools.image_resize_image(company.partner_id.image, (180, None))</p><p class="Standard">  File "/usr/lib/python3/dist-packages/odoo/tools/image.py", line 56, in image_resize_image</p><p class="Standard">    image_stream = io.BytesIO(codecs.decode(base64_source, encoding))</p><p class="Standard">TypeError: decoding with 'base64' codec failed (TypeError: expected bytes-like object, not str)</p></body></html>